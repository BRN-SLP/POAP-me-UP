{"version":3,"sources":["../../src/swag/printer.tsx","../../src/swag/components/record.tsx","../../src/swag/components/table.tsx","../../src/swag/renderer.tsx","../../src/swag/components/progress.tsx","../../src/swag/components/penguin.tsx"],"names":["React","Text","Box","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { render } from \"ink\";\nimport { Record, RecordList, type RecordData } from \"./components/record\";\nimport { Table, type TableRow } from \"./components/table\";\n\nexport const printLogo = () => {\n  const logo = `\n    ╭─────────────────────────────────────────╮\n    │       ▓▓▓ LayerZero DevTools ▓▓▓        │\n    │  ═══════════════════════════════════    │\n    │          /*\\\\                            │\n    │         /* *\\\\     BUILD ANYTHING        │\n    │         ('v')                           │\n    │        //-=-\\\\\\\\    ▶ OMNICHAIN           │\n    │        (\\\\_=_/)                          │\n    │         ^^ ^^                           │\n    │  ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓  │\n    ╰─────────────────────────────────────────╯\n`;\n\n  console.log(logo);\n};\n\n/**\n * Renders a horizontal table with rows labeled by object properties:\n *\n * ```\n * printRecord({\n *   Color: 'blue',\n *   Shape: 'weird'\n * })\n * ```\n *\n * |                 |         |\n * | -------------------- | ----------  |\n * | Color                | blue        |\n * | Shape                | weird       |\n *\n * @param {RecordData} data\n * @returns {void}\n */\nexport const printRecord = (data: RecordData): void =>\n  render(<Record data={data} />).unmount();\n\n/**\n * Renders a series of individual boxes, each containing\n * an output of `printRecord`\n *\n * @see {@link printRecord}\n *\n * @param {TableRow} data Array of rows\n * @returns {void}\n */\nexport const printRecords = (data: RecordData[]): void =>\n  render(<RecordList data={data} />).unmount();\n\n/**\n * Renders a standard, vertical table without any row labels:\n *\n * ```\n * printVerticalTable([{\n *  Color: 'blue',\n *  Shape: 'weird'\n * }, {\n *  Color: 'red',\n *  Shape: 'green'\n * }, {\n *  Color: 'green',\n *  Shape: 'circle'\n * }])\n * ```\n *\n * | Color                | Shape       |\n * | -------------------- | ----------  |\n * | blue                 | small       |\n * | red                  | weird       |\n * | green                | circle      |\n *\n * @param {TableRow} data Array of rows\n * @returns {void}\n */\nexport const printVerticalTable = (data: TableRow[]): void =>\n  render(<Table data={data} />).unmount();\n","import { Box, Text } from \"ink\";\nimport React from \"react\";\nimport type { PrimitiveValue } from \"./types\";\n\nexport type RecordData = Record<string, PrimitiveValue>;\n\nexport const RecordList: React.FC<{ data: RecordData[]; columns?: number }> = ({\n  data = [],\n  columns,\n}) => {\n  return (\n    <>\n      {data.map((row, index) => (\n        <Record data={row} columns={columns} key={index} />\n      ))}\n    </>\n  );\n};\n\nexport const Record: React.FC<{ data: RecordData; columns?: number }> = ({\n  data = {},\n  columns = process.stdout.columns ?? 80,\n}) => {\n  const padding = 1;\n  const labels = Object.keys(data);\n  const labelLengths = labels.map(({ length }) => length);\n  const maxLabelLength = Math.max(1, ...labelLengths);\n  const labelColumnWidth = maxLabelLength + 2 * padding;\n  const valueColumnWidth = Math.max(10, columns - labelColumnWidth);\n\n  return (\n    <Box\n      flexDirection=\"column\"\n      borderColor=\"grey\"\n      borderStyle=\"single\"\n      paddingX={1}\n    >\n      {Object.entries(data).map(([key, value]) => {\n        return (\n          <Box key={key}>\n            <Box width={labelColumnWidth}>\n              <Text bold wrap=\"truncate\" color=\"magenta\">\n                {key}\n              </Text>\n            </Box>\n\n            <Box width={valueColumnWidth}>\n              {value == null ? (\n                <Text wrap=\"wrap\" color=\"gray\">\n                  -\n                </Text>\n              ) : (\n                <Text wrap=\"wrap\">{String(value)}</Text>\n              )}\n            </Box>\n          </Box>\n        );\n      })}\n    </Box>\n  );\n};\n","import React from \"react\";\nimport InkTable from \"ink-table\";\nimport type { PrimitiveValue } from \"./types\";\nimport { Text } from \"ink\";\n\nexport type TableRow = Record<string | number, PrimitiveValue>;\n\nexport const Table: React.FC<{ data: TableRow[] }> = ({ data }) => (\n  <InkTable\n    data={data as any}\n    header={({ children }) => (\n      <Text bold color=\"magenta\">\n        {children}\n      </Text>\n    )}\n  />\n);\n","import React from \"react\";\nimport { ProgressBar, ProgressBarProps } from \"./components/progress\";\nimport { PenguinSpinner, PenguinSpinnerProps } from \"./components/penguin\";\n\n/**\n * Creates a ProgressBar React node.\n *\n * This is so that the consumers don't need to use JSX and/or React.createElement\n * and so that we can pass this node to e.g. instance.rerender() if a rendered ink component\n *\n * ```typescript\n * import { createProgressBar, render } from '@layerzerolabs/io-devtools/swag'\n *\n * const instance = render(createProgressBar())\n *\n * instance.rerender(createProgressBar({ progress: 0.5 }))\n * instance.clear()\n * ```\n *\n * @param {ProgressBarProps} props\n * @returns {React.ReactElement<ProgressBarProps>}\n */\nexport const createProgressBar = (\n  props: ProgressBarProps = {},\n): React.ReactElement<ProgressBarProps> => <ProgressBar {...props} />;\n\n/**\n * Creates a PenguinSpinner React node for showing transaction signing progress.\n *\n * @param {PenguinSpinnerProps} props\n * @returns {React.ReactElement<PenguinSpinnerProps>}\n */\nexport const createPenguinSpinner = (\n  props: PenguinSpinnerProps = {},\n): React.ReactElement<PenguinSpinnerProps> => <PenguinSpinner {...props} />;\n\n/**\n * Re-export the render from ink so that we can use it without importing directly from ink\n */\nexport { render } from \"ink\";\n","import { Box, Text } from \"ink\";\nimport Gradient from \"ink-gradient\";\nimport React from \"react\";\n\nexport interface ProgressBarProps {\n  /**\n   * Progress of the task, between [0-1]\n   */\n  progress?: number;\n  /**\n   * Text to appear before the progressbar\n   */\n  before?: string;\n  /**\n   * Text to appear after the progressbar\n   */\n  after?: string;\n  /**\n   * Number of available columns\n   */\n  columns?: number;\n}\n\nexport const ProgressBar: React.FC<ProgressBarProps> = ({\n  columns = process.stdout.columns ?? 80,\n  progress = 0,\n  before = \"\",\n  after = \"\",\n}) => {\n  // First we calculate the available space\n  const padding = before.length + after.length;\n  const space = Math.max(0, columns - padding);\n\n  // Then we clamp the progress, just in case\n  const clampedProgress = Math.max(0, Math.min(1, progress));\n\n  // Then we calculate the amount of characters we need and put them together\n  const numChars = Math.min(Math.floor(space * clampedProgress), space);\n  const chars = CHARACTER.repeat(numChars);\n\n  // Then we calculate the amount of \"empty\" characters we need and put them together\n  const numEmptyChars = space - numChars;\n  const emptyChars = EMPTY_CHARACTER.repeat(numEmptyChars);\n\n  return (\n    <Box>\n      <Text>{before}</Text>\n\n      <Box alignItems=\"center\">\n        <Gradient name=\"rainbow\">\n          <Text>{chars}</Text>\n        </Gradient>\n\n        <Text>{emptyChars}</Text>\n      </Box>\n\n      <Text>{after}</Text>\n    </Box>\n  );\n};\n\nconst CHARACTER = \"█\";\nconst EMPTY_CHARACTER = \"░\";\n","import { Box, Text } from \"ink\";\nimport React, { useEffect, useState } from \"react\";\n\nexport interface PenguinSpinnerProps {\n  before?: string;\n  after?: string;\n  title?: string;\n}\n\nconst PENGUIN_FRAMES = [\n  [\n    `     /*\\\\       `,\n    `    /* *\\\\     `,\n    `    ('-')    `,\n    `   //-=-\\\\\\\\   `,\n    `   (\\\\_=_/)   `,\n    `    ^^ ^^    `,\n  ],\n  [\n    ` *   /*\\\\   *   `,\n    `    /* *\\\\     `,\n    `    ('v')    `,\n    `   //-=-\\\\\\\\-  `,\n    `   (\\\\_=_/)   `,\n    `  * ^^ ^^ *  `,\n  ],\n  [\n    `   + /*\\\\ +     `,\n    `    /* *\\\\     `,\n    `    ('>')    `,\n    `   //-=-\\\\\\\\/  `,\n    `   (\\\\_=_/)   `,\n    `  + ^^ ^^ +  `,\n  ],\n  [\n    `  *  /*\\\\       `,\n    `    /* *\\\\     `,\n    `    ('^')  *`,\n    `   //-=-\\\\\\\\/  `,\n    `   (\\\\_=_/)   `,\n    ` *  ^^ ^^  +  `,\n  ],\n  [\n    `  +  /*\\\\       `,\n    `    /* *\\\\   *`,\n    `    ('<')  *`,\n    `   //-=-\\\\\\\\/  `,\n    `   (\\\\_=_/)   `,\n    ` +  ^^ ^^  *  `,\n  ],\n  [\n    `  *  /*\\\\     *`,\n    `    /* *\\\\   *`,\n    `    ('v')  *`,\n    `   //-=-\\\\\\\\/  `,\n    `   (\\\\_=_/)   `,\n    ` *  ^^ ^^  +  `,\n  ],\n  [\n    ` o*  /*\\\\     *`,\n    `    /* *\\\\   *`,\n    `    ('o')  *`,\n    `   //-=-\\\\\\\\-  `,\n    `   (\\\\_=_/)   `,\n    `  + ^^ ^^ +  `,\n  ],\n];\n\nexport const PenguinSpinner: React.FC<PenguinSpinnerProps> = ({\n  before = \"\",\n  after = \"\",\n  title = \"Sending Transactions\",\n}) => {\n  const [frameIndex, setFrameIndex] = useState(0);\n\n  useEffect(() => {\n    const id = setInterval(() => {\n      setFrameIndex((prev) => (prev + 1) % PENGUIN_FRAMES.length);\n    }, 500);\n    return () => clearInterval(id);\n  }, []);\n\n  const currentFrame = PENGUIN_FRAMES[frameIndex] || PENGUIN_FRAMES[0]!;\n\n  return (\n    <Box flexDirection=\"column\">\n      <Text bold>\n        {before}\n        {title}\n        {after}\n      </Text>\n      <Box flexDirection=\"column\" marginTop={1} marginBottom={1}>\n        {currentFrame.map((line, index) => (\n          <Text key={index}>{line}</Text>\n        ))}\n      </Box>\n    </Box>\n  );\n};\n"]}